<ipfixConfig xmlns="urn:ietf:params:xml:ns:ipfix-config">
	<sensorManager id="99">
		<checkinterval>1</checkinterval>
		<outputfile>sensor_output.xml</outputfile>
	</sensorManager>
	<observer id="1">
		<!--interface>eth0</interface-->
		<filename>/home/felix/gmMultiFlow2.dump</filename>
		<pcap_filter>ip and tcp</pcap_filter>
		<offlineAutoExit>1</offlineAutoExit>
		<offlineSpeed>0</offlineSpeed>
		<captureLength>1600</captureLength>
		<next>2</next>
	</observer>
	
	<packetAggregator id="2">
		<rule>
			<templateId>999</templateId>
			<biflowAggregation>1</biflowAggregation>
			<flowKey>
				<ieName>sourceIPv4Address</ieName>
			</flowKey>
			<flowKey>
				<ieName>destinationIPv4Address</ieName>
			</flowKey>
			<flowKey>
				<ieName>protocolIdentifier</ieName>
			</flowKey>
			<flowKey>
				<ieName>sourceTransportPort</ieName>
			</flowKey>
			<flowKey>
				<ieName>destinationTransportPort</ieName>
			</flowKey>
			<nonFlowKey>
				<ieName>flowStartNanoSeconds</ieName>
			</nonFlowKey>
			<nonFlowKey>
				<ieName>flowEndNanoSeconds</ieName>
			</nonFlowKey>
			<nonFlowKey>
				<ieName>frontPayload</ieName>
				<ieLength>1000</ieLength>
			</nonFlowKey>
			<nonFlowKey>
				<ieName>frontPayloadLen</ieName>
			</nonFlowKey>
			<nonFlowKey>
				<ieName>revflowStartNanoSeconds</ieName>
			</nonFlowKey>
			<nonFlowKey>
				<ieName>revflowEndNanoSeconds</ieName>
			</nonFlowKey>
			<nonFlowKey>
				<ieName>revFrontPayload</ieName>
				<ieLength>1000</ieLength>
			</nonFlowKey>
			<nonFlowKey>
				<ieName>revFrontPayloadLen</ieName>
			</nonFlowKey>
			<nonFlowKey>
				<ieName>dpaForcedExport</ieName>
			</nonFlowKey>
			<nonFlowKey>
				<ieName>dpaFlowCount</ieName>
			</nonFlowKey>

			<nonFlowKey>
				<ieName>overlayProtocol</ieName>
			</nonFlowKey>
		</rule>
		<expiration>
			<inactiveTimeout unit="sec">10</inactiveTimeout>
			<activeTimeout unit="sec">30</activeTimeout>
		</expiration>
		<pollInterval unit="msec">100</pollInterval>
		<next>3</next>
	</packetAggregator>

	<overlayProtocolFinder id="3">
		<protocol>googleMaps</protocol>
		<next>4</next>
	</overlayProtocolFinder>

	<ipfixAggregator id="4">
		<rule>
			<templateId>998</templateId>
				<flowKey>
					<ieName>overlayProtocol</ieName>
				</flowKey>				
				<nonFlowKey>
					<ieName>sourceIPv4Address</ieName>
				</nonFlowKey>
				<nonFlowKey>
					<ieName>destinationIPv4Address</ieName>
				</nonFlowKey>
				<nonFlowKey>
					<ieName>protocolIdentifier</ieName>
				</nonFlowKey>
				<nonFlowKey>
					<ieName>sourceTransportPort</ieName>
				</nonFlowKey>
				<nonFlowKey>
					<ieName>destinationTransportPort</ieName>
				</nonFlowKey>
				<nonFlowKey>
					<ieName>flowStartNanoSeconds</ieName>
				</nonFlowKey>
				<nonFlowKey>
					<ieName>flowEndNanoSeconds</ieName>
				</nonFlowKey>
				<nonFlowKey>
					<ieName>frontPayload</ieName>
					<ieLength>1000</ieLength>
				</nonFlowKey>
				<nonFlowKey>
					<ieName>frontPayloadLen</ieName>
				</nonFlowKey>
				<nonFlowKey>
					<ieName>revflowStartNanoSeconds</ieName>
				</nonFlowKey>
				<nonFlowKey>
					<ieName>revflowEndNanoSeconds</ieName>
				</nonFlowKey>
				<nonFlowKey>
					<ieName>revFrontPayload</ieName>
					<ieLength>1000</ieLength>
				</nonFlowKey>
				<nonFlowKey>
					<ieName>revFrontPayloadLen</ieName>
				</nonFlowKey>
			</rule>
		<expiration>
			<inactiveTimeout unit="sec">100</inactiveTimeout>
			<activeTimeout unit="sec">300</activeTimeout>
		</expiration>
		<pollInterval unit="msec">100</pollInterval>
		<next>6</next>
	</ipfixAggregator>

	<!--ipfixQueue id="5">
		<maxSize>10</maxSize>
		<next>6</next>
	</ipfixQueue-->

	<ipfixPrinter id="6">
		<outputType>table</outputType>
		<!--filename>flows.dat</filename-->
	</ipfixPrinter>




</ipfixConfig>
